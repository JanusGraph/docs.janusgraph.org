
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../serializer/">
      
      
        <link rel="next" href="../transaction-log/">
      
      
      <link rel="icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.8">
    
    
      
        <title>JanusGraph with TinkerPop’s Hadoop-Gremlin - JanusGraph</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4b4a2bd9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../theme/structor-menu.css">
    
      <link rel="stylesheet" href="../../theme/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="teal">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#janusgraph-with-tinkerpops-hadoop-gremlin" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="JanusGraph" class="md-header__button md-logo" aria-label="JanusGraph" data-md-component="logo">
      
  <img src="../../janusgraph-logomark.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            JanusGraph
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              JanusGraph with TinkerPop’s Hadoop-Gremlin
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/janusgraph/janusgraph" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    JanusGraph
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Introduction

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../getting-started/installation/" class="md-tabs__link">
          
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../basics/transactions/" class="md-tabs__link">
          
  
  JanusGraph Basics

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../configs/" class="md-tabs__link">
          
  
  Configuration

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../schema/" class="md-tabs__link">
          
  
  Schema Management

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../operations/server/" class="md-tabs__link">
          
  
  Operations

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../storage-backend/" class="md-tabs__link">
          
  
  Storage Backends

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../index-backend/" class="md-tabs__link">
          
  
  Mixed Index Backends

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../eventual-consistency/" class="md-tabs__link">
          
  
  Advanced Topics

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../common-questions/" class="md-tabs__link">
        
  
    
  
  Common Questions

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../development/" class="md-tabs__link">
        
  
    
  
  Development

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../changelog/" class="md-tabs__link">
        
  
    
  
  Changelog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="JanusGraph" class="md-nav__button md-logo" aria-label="JanusGraph" data-md-component="logo">
      
  <img src="../../janusgraph-logomark.svg" alt="logo">

    </a>
    JanusGraph
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/janusgraph/janusgraph" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    JanusGraph
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/basic-usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic Usage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/gremlin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gremlin Query Language
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architectural Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    JanusGraph Basics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            JanusGraph Basics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/transactions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transactions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/search-predicates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Search Predicates and Mixed Index Data Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Connecting to JanusGraph
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Connecting to JanusGraph
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/connecting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/connecting/java/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Java
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/connecting/python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/connecting/dotnet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using .NET
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../configs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../configs/configuration-reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration Reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../configs/example-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Config Example
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Schema Management
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Schema Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schema and Data Modeling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/advschema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced Schema
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Index Management
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Index Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/index-management/index-performance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Indexing for Better Performance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/index-management/index-lifecycle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index Lifecycle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/index-management/index-reindexing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reindexing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/index-management/index-removal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Removal
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Operations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JanusGraph Server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment Scenarios
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/container/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JanusGraph Container
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/configured-graph-factory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ConfiguredGraphFactory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/dynamic-graphs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dynamic Graphs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/batch-processing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Batch Processing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/bulk-loading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bulk Loading
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/cache/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JanusGraph Cache
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitoring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/migrating-titan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migrating from Titan
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/migrating-thrift/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migrating from Thrift
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/recovery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Failure & Recovery
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Management System
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Storage Backends
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Storage Backends
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../storage-backend/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../storage-backend/cassandra/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Apache Cassandra
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../storage-backend/hbase/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Apache HBase
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../storage-backend/bigtable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Google Cloud Bigtable
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../storage-backend/scylladb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ScyllaDB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../storage-backend/bdb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Oracle Berkeley DB Java Edition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../storage-backend/inmemorybackend/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    InMemory Storage Backend
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Mixed Index Backends
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Mixed Index Backends
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../index-backend/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../index-backend/text-search/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index Parameters and Full-Text Search
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../index-backend/field-mapping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Field Mapping
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../index-backend/direct-index-query/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Direct Index Query
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../index-backend/elasticsearch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Elasticsearch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../index-backend/solr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Apache Solr
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../index-backend/lucene/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Apache Lucene
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Advanced Topics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Advanced Topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../eventual-consistency/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eventually-Consistent Storage Backends
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../custom-vertex-id/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Vertex ID
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../partitioning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Graph Partitioning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../serializer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Datatype and Attribute Serializer Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    JanusGraph with TinkerPop’s Hadoop-Gremlin
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    JanusGraph with TinkerPop’s Hadoop-Gremlin
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuring-hadoop-for-running-olap" class="md-nav__link">
    Configuring Hadoop for Running OLAP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#olap-traversals" class="md-nav__link">
    OLAP Traversals
  </a>
  
    <nav class="md-nav" aria-label="OLAP Traversals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#olap-traversals-with-spark-local" class="md-nav__link">
    OLAP Traversals with Spark Local
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olap-traversals-with-spark-standalone-cluster" class="md-nav__link">
    OLAP Traversals with Spark Standalone Cluster
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-vertex-programs" class="md-nav__link">
    Other Vertex Programs
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../transaction-log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transaction Log
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../data-model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JanusGraph Data model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../janusgraph-bus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JanusGraph Bus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../executor-service/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ExecutorService
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../stale-index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Permanent stale index inconsistency
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../technical-limitations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Technical Limitations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../commit-releases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Snapshot Releases
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../common-questions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common Questions
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../development/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuring-hadoop-for-running-olap" class="md-nav__link">
    Configuring Hadoop for Running OLAP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#olap-traversals" class="md-nav__link">
    OLAP Traversals
  </a>
  
    <nav class="md-nav" aria-label="OLAP Traversals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#olap-traversals-with-spark-local" class="md-nav__link">
    OLAP Traversals with Spark Local
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#olap-traversals-with-spark-standalone-cluster" class="md-nav__link">
    OLAP Traversals with Spark Standalone Cluster
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-vertex-programs" class="md-nav__link">
    Other Vertex Programs
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="janusgraph-with-tinkerpops-hadoop-gremlin">JanusGraph with TinkerPop’s Hadoop-Gremlin</h1>
<p>This chapter describes how to leverage <a href="https://hadoop.apache.org/">Apache Hadoop</a> 
and <a href="https://spark.apache.org/">Apache Spark</a> to configure JanusGraph for
distributed graph processing. These steps will provide an overview on
how to get started with those projects, but please refer to those
project communities to become more deeply familiar with them.</p>
<p>JanusGraph-Hadoop works with TinkerPop’s
<a href="https://tinkerpop.apache.org/docs/3.7.0/reference/#hadoop-gremlin">hadoop-gremlin</a>
package for general-purpose OLAP.</p>
<p>For the scope of the example below, Apache Spark is the computing
framework and Apache Cassandra is the storage backend. The directions
can be followed with other packages with minor changes to the
configuration properties.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The examples in this chapter are based on running Spark in local mode
or standalone cluster mode. Additional configuration is required when
using Spark on YARN or Mesos.</p>
</div>
<h2 id="configuring-hadoop-for-running-olap">Configuring Hadoop for Running OLAP</h2>
<p>For running OLAP queries from the Gremlin Console, a few prerequisites
need to be fulfilled. You will need to add the Hadoop configuration
directory into the <code>CLASSPATH</code>, and the configuration directory needs to
point to a live Hadoop cluster.</p>
<p>Hadoop provides a distributed access-controlled file system. The Hadoop
file system is used by Spark workers running on different machines to
have a common source for file based operations. The intermediate
computations of various OLAP queries may be persisted on the Hadoop file
system.</p>
<p>For configuring a single node Hadoop cluster, please refer to official
<a href="https://hadoop.apache.org/docs/r3.3.5/hadoop-project-dist/hadoop-common/SingleCluster.html">Apache Hadoop Docs</a></p>
<p>Once you have a Hadoop cluster up and running, we will need to specify
the Hadoop configuration files in the <code>CLASSPATH</code>. The below document
expects that you have those configuration files located under
<code>/etc/hadoop/conf</code>.</p>
<p>Once verified, follow the below steps to add the Hadoop configuration to
the <code>CLASSPATH</code> and start the Gremlin Console, which will play the role
of the Spark driver program.
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">HADOOP_CONF_DIR</span><span class="o">=</span>/etc/hadoop/conf
<span class="nb">export</span><span class="w"> </span><span class="nv">CLASSPATH</span><span class="o">=</span><span class="nv">$HADOOP_CONF_DIR</span>
bin/gremlin.sh
</code></pre></div></p>
<p>Once the path to Hadoop configuration has been added to the <code>CLASSPATH</code>,
we can verify whether the Gremlin Console can access the Hadoop cluster
by following these quick steps:
<div class="highlight"><pre><span></span><code><span class="n">gremlin</span><span class="o">&gt;</span><span class="w"> </span><span class="n">hdfs</span>
<span class="o">==&gt;</span><span class="n">storage</span><span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">apache</span><span class="o">.</span><span class="na">hadoop</span><span class="o">.</span><span class="na">fs</span><span class="o">.</span><span class="na">LocalFileSystem</span><span class="err">@</span><span class="mi">65</span><span class="n">bb9029</span><span class="o">]</span><span class="w"> </span><span class="c1">// BAD</span>

<span class="n">gremlin</span><span class="o">&gt;</span><span class="w"> </span><span class="n">hdfs</span>
<span class="o">==&gt;</span><span class="n">storage</span><span class="o">[</span><span class="n">DFS</span><span class="o">[</span><span class="n">DFSClient</span><span class="o">[</span><span class="n">clientName</span><span class="o">=</span><span class="n">DFSClient_NONMAPREDUCE_1229457199_1</span><span class="o">,</span><span class="w"> </span><span class="n">ugi</span><span class="o">=</span><span class="n">user</span><span class="w"> </span><span class="o">(</span><span class="nl">auth:</span><span class="n">SIMPLE</span><span class="o">)]]]</span><span class="w"> </span><span class="c1">// GOOD</span>
</code></pre></div></p>
<h2 id="olap-traversals">OLAP Traversals</h2>
<p>JanusGraph-Hadoop works with TinkerPop’s hadoop-gremlin package for
general-purpose OLAP to traverse over the graph, and parallelize queries
by leveraging Apache Spark.</p>
<h3 id="olap-traversals-with-spark-local">OLAP Traversals with Spark Local</h3>
<p>OLAP Examples below are showing configuration examples for directly supported 
backends by JanusGraph. Additional configuration will be needed that 
is specific to that storage backend. The configuration is specified by the
<code>gremlin.hadoop.graphReader</code> property which specifies the class to read
data from the storage backend.</p>
<p>JanusGraph directly supports following graphReader classes:</p>
<ul>
<li><code>CqlInputFormat</code> for use with Cassandra</li>
<li><code>HBaseInputFormat</code> and <code>HBaseSnapshotInputFormat</code> for use with HBase</li>
</ul>
<p>The following <code>.properties</code> files can be used to connect a JanusGraph
instance such that it can be used with HadoopGraph to run OLAP queries.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">read-cql.properties</label><label for="__tabbed_1_2">read-hbase.properties</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># Copyright 2019 JanusGraph Authors</span>
<span class="c1">#</span>
<span class="c1"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c1"># you may not use this file except in compliance with the License.</span>
<span class="c1"># You may obtain a copy of the License at</span>
<span class="c1">#</span>
<span class="c1">#      http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">#</span>
<span class="c1"># Unless required by applicable law or agreed to in writing, software</span>
<span class="c1"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c1"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c1"># See the License for the specific language governing permissions and</span>
<span class="c1"># limitations under the License.</span>

<span class="c1">#</span>
<span class="c1"># Hadoop Graph Configuration</span>
<span class="c1">#</span>
<span class="na">gremlin.graph</span><span class="o">=</span><span class="s">org.apache.tinkerpop.gremlin.hadoop.structure.HadoopGraph</span>
<span class="na">gremlin.hadoop.graphReader</span><span class="o">=</span><span class="s">org.janusgraph.hadoop.formats.cql.CqlInputFormat</span>
<span class="na">gremlin.hadoop.graphWriter</span><span class="o">=</span><span class="s">org.apache.hadoop.mapreduce.lib.output.NullOutputFormat</span>

<span class="na">gremlin.hadoop.jarsInDistributedCache</span><span class="o">=</span><span class="s">true</span>
<span class="na">gremlin.hadoop.inputLocation</span><span class="o">=</span><span class="s">none</span>
<span class="na">gremlin.hadoop.outputLocation</span><span class="o">=</span><span class="s">output</span>
<span class="na">gremlin.spark.persistContext</span><span class="o">=</span><span class="s">true</span>

<span class="c1">#</span>
<span class="c1"># JanusGraph Cassandra InputFormat configuration</span>
<span class="c1">#</span>
<span class="c1"># These properties defines the connection properties which were used while write data to JanusGraph.</span>
<span class="na">janusgraphmr.ioformat.conf.storage.backend</span><span class="o">=</span><span class="s">cql</span>
<span class="c1"># This specifies the hostname &amp; port for Cassandra data store.</span>
<span class="na">janusgraphmr.ioformat.conf.storage.hostname</span><span class="o">=</span><span class="s">127.0.0.1</span>
<span class="na">janusgraphmr.ioformat.conf.storage.port</span><span class="o">=</span><span class="s">9042</span>
<span class="c1"># This specifies the keyspace where data is stored.</span>
<span class="na">janusgraphmr.ioformat.conf.storage.cql.keyspace</span><span class="o">=</span><span class="s">janusgraph</span>
<span class="c1"># This defines the indexing backend configuration used while writing data to JanusGraph.</span>
<span class="na">janusgraphmr.ioformat.conf.index.search.backend</span><span class="o">=</span><span class="s">elasticsearch</span>
<span class="na">janusgraphmr.ioformat.conf.index.search.hostname</span><span class="o">=</span><span class="s">127.0.0.1</span>
<span class="c1"># Use the appropriate properties for the backend when using a different storage backend (HBase) or indexing backend (Solr).</span>

<span class="c1">#</span>
<span class="c1"># Apache Cassandra InputFormat configuration</span>
<span class="c1">#</span>
<span class="na">cassandra.input.partitioner.class</span><span class="o">=</span><span class="s">org.apache.cassandra.dht.Murmur3Partitioner</span>
<span class="na">cassandra.input.widerows</span><span class="o">=</span><span class="s">true</span>

<span class="c1">#</span>
<span class="c1"># SparkGraphComputer Configuration</span>
<span class="c1">#</span>
<span class="na">spark.master</span><span class="o">=</span><span class="s">local[*]</span>
<span class="na">spark.executor.memory</span><span class="o">=</span><span class="s">1g</span>
<span class="na">spark.serializer</span><span class="o">=</span><span class="s">org.apache.spark.serializer.KryoSerializer</span>
<span class="na">spark.kryo.registrator</span><span class="o">=</span><span class="s">org.janusgraph.hadoop.serialize.JanusGraphKryoRegistrator</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># Copyright 2019 JanusGraph Authors</span>
<span class="c1">#</span>
<span class="c1"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c1"># you may not use this file except in compliance with the License.</span>
<span class="c1"># You may obtain a copy of the License at</span>
<span class="c1">#</span>
<span class="c1">#      http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">#</span>
<span class="c1"># Unless required by applicable law or agreed to in writing, software</span>
<span class="c1"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c1"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c1"># See the License for the specific language governing permissions and</span>
<span class="c1"># limitations under the License.</span>

<span class="c1">#</span>
<span class="c1"># Hadoop Graph Configuration</span>
<span class="c1">#</span>
<span class="na">gremlin.graph</span><span class="o">=</span><span class="s">org.apache.tinkerpop.gremlin.hadoop.structure.HadoopGraph</span>
<span class="na">gremlin.hadoop.graphReader</span><span class="o">=</span><span class="s">org.janusgraph.hadoop.formats.hbase.HBaseInputFormat</span>
<span class="na">gremlin.hadoop.graphWriter</span><span class="o">=</span><span class="s">org.apache.hadoop.mapreduce.lib.output.NullOutputFormat</span>

<span class="na">gremlin.hadoop.jarsInDistributedCache</span><span class="o">=</span><span class="s">true</span>
<span class="na">gremlin.hadoop.inputLocation</span><span class="o">=</span><span class="s">none</span>
<span class="na">gremlin.hadoop.outputLocation</span><span class="o">=</span><span class="s">output</span>
<span class="na">gremlin.spark.persistContext</span><span class="o">=</span><span class="s">true</span>

<span class="c1">#</span>
<span class="c1"># JanusGraph HBase InputFormat configuration</span>
<span class="c1">#</span>
<span class="na">janusgraphmr.ioformat.conf.storage.backend</span><span class="o">=</span><span class="s">hbase</span>
<span class="na">janusgraphmr.ioformat.conf.storage.hostname</span><span class="o">=</span><span class="s">localhost</span>
<span class="na">janusgraphmr.ioformat.conf.storage.hbase.table</span><span class="o">=</span><span class="s">janusgraph</span>

<span class="c1">#</span>
<span class="c1"># SparkGraphComputer Configuration</span>
<span class="c1">#</span>
<span class="na">spark.master</span><span class="o">=</span><span class="s">local[*]</span>
<span class="na">spark.executor.memory</span><span class="o">=</span><span class="s">1g</span>
<span class="na">spark.serializer</span><span class="o">=</span><span class="s">org.apache.spark.serializer.KryoSerializer</span>
<span class="na">spark.kryo.registrator</span><span class="o">=</span><span class="s">org.janusgraph.hadoop.serialize.JanusGraphKryoRegistrator</span>
</code></pre></div>
</div>
</div>
</div>
<p>First create a properties file with above configurations, and load the
same on the Gremlin Console to run OLAP queries as follows:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">read-cql.properties</label><label for="__tabbed_2_2">read-hbase.properties</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>bin/gremlin.sh

<span class="w">        </span><span class="se">\,</span>,,/
<span class="w">        </span><span class="o">(</span>o<span class="w"> </span>o<span class="o">)</span>
-----oOOo-<span class="o">(</span><span class="m">3</span><span class="o">)</span>-oOOo-----
plugin<span class="w"> </span>activated:<span class="w"> </span>janusgraph.imports
gremlin&gt;<span class="w"> </span>:plugin<span class="w"> </span>use<span class="w"> </span>tinkerpop.hadoop
<span class="o">==</span>&gt;tinkerpop.hadoop<span class="w"> </span>activated
gremlin&gt;<span class="w"> </span>:plugin<span class="w"> </span>use<span class="w"> </span>tinkerpop.spark
<span class="o">==</span>&gt;tinkerpop.spark<span class="w"> </span>activated
gremlin&gt;<span class="w"> </span>//<span class="w"> </span><span class="m">1</span>.<span class="w"> </span>Open<span class="w"> </span>a<span class="w"> </span>the<span class="w"> </span>graph<span class="w"> </span><span class="k">for</span><span class="w"> </span>OLAP<span class="w"> </span>processing<span class="w"> </span>reading<span class="w"> </span><span class="k">in</span><span class="w"> </span>from<span class="w"> </span>Cassandra<span class="w"> </span><span class="m">3</span>
gremlin&gt;<span class="w"> </span><span class="nv">graph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>GraphFactory.open<span class="o">(</span><span class="s1">&#39;conf/hadoop-graph/read-cql.properties&#39;</span><span class="o">)</span>
<span class="o">==</span>&gt;hadoopgraph<span class="o">[</span>cqlinputformat-&gt;gryooutputformat<span class="o">]</span>
gremlin&gt;<span class="w"> </span>//<span class="w"> </span><span class="m">2</span>.<span class="w"> </span>Configure<span class="w"> </span>the<span class="w"> </span>traversal<span class="w"> </span>to<span class="w"> </span>run<span class="w"> </span>with<span class="w"> </span>Spark
gremlin&gt;<span class="w"> </span><span class="nv">g</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>graph.traversal<span class="o">()</span>.withComputer<span class="o">(</span>SparkGraphComputer<span class="o">)</span>
<span class="o">==</span>&gt;graphtraversalsource<span class="o">[</span>hadoopgraph<span class="o">[</span>cqlinputformat-&gt;gryooutputformat<span class="o">]</span>,<span class="w"> </span>sparkgraphcomputer<span class="o">]</span>
gremlin&gt;<span class="w"> </span>//<span class="w"> </span><span class="m">3</span>.<span class="w"> </span>Run<span class="w"> </span>some<span class="w"> </span>OLAP<span class="w"> </span>traversals
gremlin&gt;<span class="w"> </span>g.V<span class="o">()</span>.count<span class="o">()</span>
......
<span class="o">==</span>&gt;808
gremlin&gt;<span class="w"> </span>g.E<span class="o">()</span>.count<span class="o">()</span>
......
<span class="o">==</span>&gt;<span class="w"> </span><span class="m">8046</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>bin/gremlin.sh

<span class="w">        </span><span class="se">\,</span>,,/
<span class="w">        </span><span class="o">(</span>o<span class="w"> </span>o<span class="o">)</span>
-----oOOo-<span class="o">(</span><span class="m">3</span><span class="o">)</span>-oOOo-----
plugin<span class="w"> </span>activated:<span class="w"> </span>janusgraph.imports
gremlin&gt;<span class="w"> </span>:plugin<span class="w"> </span>use<span class="w"> </span>tinkerpop.hadoop
<span class="o">==</span>&gt;tinkerpop.hadoop<span class="w"> </span>activated
gremlin&gt;<span class="w"> </span>:plugin<span class="w"> </span>use<span class="w"> </span>tinkerpop.spark
<span class="o">==</span>&gt;tinkerpop.spark<span class="w"> </span>activated
gremlin&gt;<span class="w"> </span>//<span class="w"> </span><span class="m">1</span>.<span class="w"> </span>Open<span class="w"> </span>a<span class="w"> </span>the<span class="w"> </span>graph<span class="w"> </span><span class="k">for</span><span class="w"> </span>OLAP<span class="w"> </span>processing<span class="w"> </span>reading<span class="w"> </span><span class="k">in</span><span class="w"> </span>from<span class="w"> </span>HBase
gremlin&gt;<span class="w"> </span><span class="nv">graph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>GraphFactory.open<span class="o">(</span><span class="s1">&#39;conf/hadoop-graph/read-hbase.properties&#39;</span><span class="o">)</span>
<span class="o">==</span>&gt;hadoopgraph<span class="o">[</span>hbaseinputformat-&gt;gryooutputformat<span class="o">]</span>
gremlin&gt;<span class="w"> </span>//<span class="w"> </span><span class="m">2</span>.<span class="w"> </span>Configure<span class="w"> </span>the<span class="w"> </span>traversal<span class="w"> </span>to<span class="w"> </span>run<span class="w"> </span>with<span class="w"> </span>Spark
gremlin&gt;<span class="w"> </span><span class="nv">g</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>graph.traversal<span class="o">()</span>.withComputer<span class="o">(</span>SparkGraphComputer<span class="o">)</span>
<span class="o">==</span>&gt;graphtraversalsource<span class="o">[</span>hadoopgraph<span class="o">[</span>hbaseinputformat-&gt;gryooutputformat<span class="o">]</span>,<span class="w"> </span>sparkgraphcomputer<span class="o">]</span>
gremlin&gt;<span class="w"> </span>//<span class="w"> </span><span class="m">3</span>.<span class="w"> </span>Run<span class="w"> </span>some<span class="w"> </span>OLAP<span class="w"> </span>traversals
gremlin&gt;<span class="w"> </span>g.V<span class="o">()</span>.count<span class="o">()</span>
......
<span class="o">==</span>&gt;808
gremlin&gt;<span class="w"> </span>g.E<span class="o">()</span>.count<span class="o">()</span>
......
<span class="o">==</span>&gt;<span class="w"> </span><span class="m">8046</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="olap-traversals-with-spark-standalone-cluster">OLAP Traversals with Spark Standalone Cluster</h3>
<p>The steps followed in the previous section can also be used with a Spark
standalone cluster with only minor changes:</p>
<ul>
<li>
<p>Update the <code>spark.master</code> property to point to the Spark master URL
    instead of local</p>
</li>
<li>
<p>Update the <code>spark.executor.extraClassPath</code> to enable the Spark
    executor to find the JanusGraph dependency jars</p>
</li>
<li>
<p>Copy the JanusGraph dependency jars into the location specified in
    the previous step on each Spark executor machine</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We have copied all the jars under <strong>janusgraph-distribution/lib</strong> into
/opt/lib/janusgraph/ and the same directory structure is created
across all workers, and jars are manually copied across all workers.</p>
</div>
<p>The final properties file used for OLAP traversal is as follows:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">read-cql-standalone-cluster.properties</label><label for="__tabbed_3_2">read-hbase-standalone-cluster.properties</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># Copyright 2020 JanusGraph Authors</span>
<span class="c1">#</span>
<span class="c1"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c1"># you may not use this file except in compliance with the License.</span>
<span class="c1"># You may obtain a copy of the License at</span>
<span class="c1">#</span>
<span class="c1">#      http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">#</span>
<span class="c1"># Unless required by applicable law or agreed to in writing, software</span>
<span class="c1"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c1"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c1"># See the License for the specific language governing permissions and</span>
<span class="c1"># limitations under the License.</span>

<span class="c1">#</span>
<span class="c1"># Hadoop Graph Configuration</span>
<span class="c1">#</span>
<span class="na">gremlin.graph</span><span class="o">=</span><span class="s">org.apache.tinkerpop.gremlin.hadoop.structure.HadoopGraph</span>
<span class="na">gremlin.hadoop.graphReader</span><span class="o">=</span><span class="s">org.janusgraph.hadoop.formats.cql.CqlInputFormat</span>
<span class="na">gremlin.hadoop.graphWriter</span><span class="o">=</span><span class="s">org.apache.hadoop.mapreduce.lib.output.NullOutputFormat</span>

<span class="na">gremlin.hadoop.jarsInDistributedCache</span><span class="o">=</span><span class="s">true</span>
<span class="na">gremlin.hadoop.inputLocation</span><span class="o">=</span><span class="s">none</span>
<span class="na">gremlin.hadoop.outputLocation</span><span class="o">=</span><span class="s">output</span>
<span class="na">gremlin.spark.persistContext</span><span class="o">=</span><span class="s">true</span>

<span class="c1">#</span>
<span class="c1"># JanusGraph Cassandra InputFormat configuration</span>
<span class="c1">#</span>
<span class="c1"># These properties defines the connection properties which were used while write data to JanusGraph.</span>
<span class="na">janusgraphmr.ioformat.conf.storage.backend</span><span class="o">=</span><span class="s">cql</span>
<span class="c1"># This specifies the hostname &amp; port for Cassandra data store.</span>
<span class="na">janusgraphmr.ioformat.conf.storage.hostname</span><span class="o">=</span><span class="s">127.0.0.1</span>
<span class="na">janusgraphmr.ioformat.conf.storage.port</span><span class="o">=</span><span class="s">9042</span>
<span class="c1"># This specifies the keyspace where data is stored.</span>
<span class="na">janusgraphmr.ioformat.conf.storage.cql.keyspace</span><span class="o">=</span><span class="s">janusgraph</span>
<span class="c1"># This defines the indexing backend configuration used while writing data to JanusGraph.</span>
<span class="na">janusgraphmr.ioformat.conf.index.search.backend</span><span class="o">=</span><span class="s">elasticsearch</span>
<span class="na">janusgraphmr.ioformat.conf.index.search.hostname</span><span class="o">=</span><span class="s">127.0.0.1</span>
<span class="c1"># Use the appropriate properties for the backend when using a different storage backend (HBase) or indexing backend (Solr).</span>

<span class="c1">#</span>
<span class="c1"># Apache Cassandra InputFormat configuration</span>
<span class="c1">#</span>
<span class="na">cassandra.input.partitioner.class</span><span class="o">=</span><span class="s">org.apache.cassandra.dht.Murmur3Partitioner</span>
<span class="na">cassandra.input.widerows</span><span class="o">=</span><span class="s">true</span>

<span class="c1">#</span>
<span class="c1"># SparkGraphComputer Configuration</span>
<span class="c1">#</span>
<span class="na">spark.master</span><span class="o">=</span><span class="s">spark://127.0.0.1:7077</span>
<span class="na">spark.executor.memory</span><span class="o">=</span><span class="s">1g</span>
<span class="na">spark.executor.extraClassPath</span><span class="o">=</span><span class="s">/opt/lib/janusgraph/*</span>
<span class="na">spark.serializer</span><span class="o">=</span><span class="s">org.apache.spark.serializer.KryoSerializer</span>
<span class="na">spark.kryo.registrator</span><span class="o">=</span><span class="s">org.janusgraph.hadoop.serialize.JanusGraphKryoRegistrator</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># Copyright 2020 JanusGraph Authors</span>
<span class="c1">#</span>
<span class="c1"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c1"># you may not use this file except in compliance with the License.</span>
<span class="c1"># You may obtain a copy of the License at</span>
<span class="c1">#</span>
<span class="c1">#      http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">#</span>
<span class="c1"># Unless required by applicable law or agreed to in writing, software</span>
<span class="c1"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c1"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c1"># See the License for the specific language governing permissions and</span>
<span class="c1"># limitations under the License.</span>

<span class="c1">#</span>
<span class="c1"># Hadoop Graph Configuration</span>
<span class="c1">#</span>
<span class="na">gremlin.graph</span><span class="o">=</span><span class="s">org.apache.tinkerpop.gremlin.hadoop.structure.HadoopGraph</span>
<span class="na">gremlin.hadoop.graphReader</span><span class="o">=</span><span class="s">org.janusgraph.hadoop.formats.hbase.HBaseInputFormat</span>
<span class="na">gremlin.hadoop.graphWriter</span><span class="o">=</span><span class="s">org.apache.hadoop.mapreduce.lib.output.NullOutputFormat</span>

<span class="na">gremlin.hadoop.jarsInDistributedCache</span><span class="o">=</span><span class="s">true</span>
<span class="na">gremlin.hadoop.inputLocation</span><span class="o">=</span><span class="s">none</span>
<span class="na">gremlin.hadoop.outputLocation</span><span class="o">=</span><span class="s">output</span>
<span class="na">gremlin.spark.persistContext</span><span class="o">=</span><span class="s">true</span>

<span class="c1">#</span>
<span class="c1"># JanusGraph HBase InputFormat configuration</span>
<span class="c1">#</span>
<span class="na">janusgraphmr.ioformat.conf.storage.backend</span><span class="o">=</span><span class="s">hbase</span>
<span class="na">janusgraphmr.ioformat.conf.storage.hostname</span><span class="o">=</span><span class="s">localhost</span>
<span class="na">janusgraphmr.ioformat.conf.storage.hbase.table</span><span class="o">=</span><span class="s">janusgraph</span>

<span class="c1">#</span>
<span class="c1"># SparkGraphComputer Configuration</span>
<span class="c1">#</span>
<span class="na">spark.master</span><span class="o">=</span><span class="s">spark://127.0.0.1:7077</span>
<span class="na">spark.executor.memory</span><span class="o">=</span><span class="s">1g</span>
<span class="na">spark.executor.extraClassPath</span><span class="o">=</span><span class="s">/opt/lib/janusgraph/*</span>
<span class="na">spark.serializer</span><span class="o">=</span><span class="s">org.apache.spark.serializer.KryoSerializer</span>
<span class="na">spark.kryo.registrator</span><span class="o">=</span><span class="s">org.janusgraph.hadoop.serialize.JanusGraphKryoRegistrator</span>
</code></pre></div>
</div>
</div>
</div>
<p>Then use the properties file as follows from the Gremlin Console:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">read-cql-standalone-cluster.properties</label><label for="__tabbed_4_2">read-hbase-standalone-cluster.properties</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>bin/gremlin.sh

<span class="w">        </span><span class="se">\,</span>,,/
<span class="w">        </span><span class="o">(</span>o<span class="w"> </span>o<span class="o">)</span>
-----oOOo-<span class="o">(</span><span class="m">3</span><span class="o">)</span>-oOOo-----
plugin<span class="w"> </span>activated:<span class="w"> </span>janusgraph.imports
gremlin&gt;<span class="w"> </span>:plugin<span class="w"> </span>use<span class="w"> </span>tinkerpop.hadoop
<span class="o">==</span>&gt;tinkerpop.hadoop<span class="w"> </span>activated
gremlin&gt;<span class="w"> </span>:plugin<span class="w"> </span>use<span class="w"> </span>tinkerpop.spark
<span class="o">==</span>&gt;tinkerpop.spark<span class="w"> </span>activated
gremlin&gt;<span class="w"> </span>//<span class="w"> </span><span class="m">1</span>.<span class="w"> </span>Open<span class="w"> </span>a<span class="w"> </span>the<span class="w"> </span>graph<span class="w"> </span><span class="k">for</span><span class="w"> </span>OLAP<span class="w"> </span>processing<span class="w"> </span>reading<span class="w"> </span><span class="k">in</span><span class="w"> </span>from<span class="w"> </span>Cassandra<span class="w"> </span><span class="m">3</span>
gremlin&gt;<span class="w"> </span><span class="nv">graph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>GraphFactory.open<span class="o">(</span><span class="s1">&#39;conf/hadoop-graph/read-cql-standalone-cluster.properties&#39;</span><span class="o">)</span>
<span class="o">==</span>&gt;hadoopgraph<span class="o">[</span>cqlinputformat-&gt;gryooutputformat<span class="o">]</span>
gremlin&gt;<span class="w"> </span>//<span class="w"> </span><span class="m">2</span>.<span class="w"> </span>Configure<span class="w"> </span>the<span class="w"> </span>traversal<span class="w"> </span>to<span class="w"> </span>run<span class="w"> </span>with<span class="w"> </span>Spark
gremlin&gt;<span class="w"> </span><span class="nv">g</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>graph.traversal<span class="o">()</span>.withComputer<span class="o">(</span>SparkGraphComputer<span class="o">)</span>
<span class="o">==</span>&gt;graphtraversalsource<span class="o">[</span>hadoopgraph<span class="o">[</span>cqlinputformat-&gt;gryooutputformat<span class="o">]</span>,<span class="w"> </span>sparkgraphcomputer<span class="o">]</span>
gremlin&gt;<span class="w"> </span>//<span class="w"> </span><span class="m">3</span>.<span class="w"> </span>Run<span class="w"> </span>some<span class="w"> </span>OLAP<span class="w"> </span>traversals
gremlin&gt;<span class="w"> </span>g.V<span class="o">()</span>.count<span class="o">()</span>
......
<span class="o">==</span>&gt;808
gremlin&gt;<span class="w"> </span>g.E<span class="o">()</span>.count<span class="o">()</span>
......
<span class="o">==</span>&gt;<span class="w"> </span><span class="m">8046</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>bin/gremlin.sh

<span class="w">        </span><span class="se">\,</span>,,/
<span class="w">        </span><span class="o">(</span>o<span class="w"> </span>o<span class="o">)</span>
-----oOOo-<span class="o">(</span><span class="m">3</span><span class="o">)</span>-oOOo-----
plugin<span class="w"> </span>activated:<span class="w"> </span>janusgraph.imports
gremlin&gt;<span class="w"> </span>:plugin<span class="w"> </span>use<span class="w"> </span>tinkerpop.hadoop
<span class="o">==</span>&gt;tinkerpop.hadoop<span class="w"> </span>activated
gremlin&gt;<span class="w"> </span>:plugin<span class="w"> </span>use<span class="w"> </span>tinkerpop.spark
<span class="o">==</span>&gt;tinkerpop.spark<span class="w"> </span>activated
gremlin&gt;<span class="w"> </span>//<span class="w"> </span><span class="m">1</span>.<span class="w"> </span>Open<span class="w"> </span>a<span class="w"> </span>the<span class="w"> </span>graph<span class="w"> </span><span class="k">for</span><span class="w"> </span>OLAP<span class="w"> </span>processing<span class="w"> </span>reading<span class="w"> </span><span class="k">in</span><span class="w"> </span>from<span class="w"> </span>HBase
gremlin&gt;<span class="w"> </span><span class="nv">graph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>GraphFactory.open<span class="o">(</span><span class="s1">&#39;conf/hadoop-graph/read-hbase-standalone-cluster.properties&#39;</span><span class="o">)</span>
<span class="o">==</span>&gt;hadoopgraph<span class="o">[</span>hbaseinputformat-&gt;gryooutputformat<span class="o">]</span>
gremlin&gt;<span class="w"> </span>//<span class="w"> </span><span class="m">2</span>.<span class="w"> </span>Configure<span class="w"> </span>the<span class="w"> </span>traversal<span class="w"> </span>to<span class="w"> </span>run<span class="w"> </span>with<span class="w"> </span>Spark
gremlin&gt;<span class="w"> </span><span class="nv">g</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>graph.traversal<span class="o">()</span>.withComputer<span class="o">(</span>SparkGraphComputer<span class="o">)</span>
<span class="o">==</span>&gt;graphtraversalsource<span class="o">[</span>hadoopgraph<span class="o">[</span>hbaseinputformat-&gt;gryooutputformat<span class="o">]</span>,<span class="w"> </span>sparkgraphcomputer<span class="o">]</span>
gremlin&gt;<span class="w"> </span>//<span class="w"> </span><span class="m">3</span>.<span class="w"> </span>Run<span class="w"> </span>some<span class="w"> </span>OLAP<span class="w"> </span>traversals
gremlin&gt;<span class="w"> </span>g.V<span class="o">()</span>.count<span class="o">()</span>
......
<span class="o">==</span>&gt;808
gremlin&gt;<span class="w"> </span>g.E<span class="o">()</span>.count<span class="o">()</span>
......
<span class="o">==</span>&gt;<span class="w"> </span><span class="m">8046</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="other-vertex-programs">Other Vertex Programs</h2>
<p>Apache TinkerPop provides various vertex programs. A vertex program runs
on each vertex until either a termination criteria is attained or a
fixed number of iterations has been reached. Due to the parallel nature
of vertex programs, they can leverage parallel computing framework like
Spark to improve their performance.</p>
<p>Once you are familiar with how to configure JanusGraph to work with
Spark, you can run all the other vertex programs provided by Apache
TinkerPop, like Page Rank, Bulk Loading and Peer Pressure. See the
<a href="https://tinkerpop.apache.org/docs/3.7.0/reference/#vertexprogram">TinkerPop VertexProgram docs</a>
for more details.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../serializer/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Datatype and Attribute Serializer Configuration">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Datatype and Attribute Serializer Configuration
              </div>
            </div>
          </a>
        
        
          
          <a href="../transaction-log/" class="md-footer__link md-footer__link--next" aria-label="Next: Transaction Log">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Transaction Log
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 JanusGraph Authors. All rights reserved.<br> The Linux Foundation has registered trademarks and uses trademarks. For a list of<br> trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage">Trademark Usage</a> page.<br> Cassandra, Groovy, HBase, Hadoop, Lucene, Solr, and TinkerPop are trademarks of the Apache Software Foundation.<br> Berkeley DB and Berkeley DB Java Edition are trademarks of Oracle.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/janusgraph" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://discord.gg/5n4fjv4QAf" target="_blank" rel="noopener" title="discord.gg" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/janusgraph" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9L389.2 48zm-24.8 373.8h39.1L151.1 88h-42l255.3 333.8z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/janusgraph" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://lists.lfaidata.foundation/g/janusgraph-users" target="_blank" rel="noopener" title="lists.lfaidata.foundation" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l217.6 163.2c11.4 8.5 27 8.5 38.4 0l217.6-163.2c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48H48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2a63.9 63.9 0 0 1-76.8 0L0 176z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://lists.lfaidata.foundation/g/janusgraph-dev" target="_blank" rel="noopener" title="lists.lfaidata.foundation" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l217.6 163.2c11.4 8.5 27 8.5 38.4 0l217.6-163.2c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48H48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2a63.9 63.9 0 0 1-76.8 0L0 176z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer", "navigation.tabs"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.81fa17fe.min.js"></script>
      
        <script src="../../theme/js/structor-menu.js"></script>
      
    
  </body>
</html>