


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.4.0">
    
    
      
        <title>Schema and Data Modeling - JanusGraph</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.fe0cca5b.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a46bcfb3.min.css">
      
      
        
        
        <meta name="theme-color" content="#4caf50">
      
    
    
    
      
    
    
    
      <link rel="stylesheet" href="../../theme/structor-menu.css">
    
      <link rel="stylesheet" href="../../theme/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="green" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#schema-and-data-modeling" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="JanusGraph" class="md-header-nav__button md-logo" aria-label="JanusGraph">
      
  <img src="../../janusgraph-logomark.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            JanusGraph
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Schema and Data Modeling
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/janusgraph/janusgraph/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    JanusGraph
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="JanusGraph" class="md-nav__button md-logo" aria-label="JanusGraph">
      
  <img src="../../janusgraph-logomark.svg" alt="logo">

    </a>
    JanusGraph
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/janusgraph/janusgraph/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    JanusGraph
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Getting Started
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/basic-usage/" title="Basic Usage" class="md-nav__link">
      Basic Usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/architecture/" title="Architectural Overview" class="md-nav__link">
      Architectural Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      JanusGraph Basics
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="JanusGraph Basics" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        JanusGraph Basics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Schema and Data Modeling
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Schema and Data Modeling" class="md-nav__link md-nav__link--active">
      Schema and Data Modeling
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#displaying-schema-information" class="md-nav__link">
    Displaying Schema Information
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-edge-labels" class="md-nav__link">
    Defining Edge Labels
  </a>
  
    <nav class="md-nav" aria-label="Defining Edge Labels">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#edge-label-multiplicity" class="md-nav__link">
    Edge Label Multiplicity
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-property-keys" class="md-nav__link">
    Defining Property Keys
  </a>
  
    <nav class="md-nav" aria-label="Defining Property Keys">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#property-key-data-type" class="md-nav__link">
    Property Key Data Type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#property-key-cardinality" class="md-nav__link">
    Property Key Cardinality
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relation-types" class="md-nav__link">
    Relation Types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-vertex-labels" class="md-nav__link">
    Defining Vertex Labels
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatic-schema-maker" class="md-nav__link">
    Automatic Schema Maker
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changing-schema-elements" class="md-nav__link">
    Changing Schema Elements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schema-constraints" class="md-nav__link">
    Schema Constraints
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gremlin/" title="Gremlin Query Language" class="md-nav__link">
      Gremlin Query Language
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../server/" title="JanusGraph Server" class="md-nav__link">
      JanusGraph Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployment/" title="Deployment Scenarios" class="md-nav__link">
      Deployment Scenarios
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../configured-graph-factory/" title="ConfiguredGraphFactory" class="md-nav__link">
      ConfiguredGraphFactory
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../multi-node/" title="Things to Consider in a Multi-Node JanusGraph Cluster" class="md-nav__link">
      Things to Consider in a Multi-Node JanusGraph Cluster
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../transactions/" title="Transactions" class="md-nav__link">
      Transactions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cache/" title="JanusGraph Cache" class="md-nav__link">
      JanusGraph Cache
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../transaction-log/" title="Transaction Log" class="md-nav__link">
      Transaction Log
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../configuration-reference/" title="Configuration Reference" class="md-nav__link">
      Configuration Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../example-config/" title="Config Example" class="md-nav__link">
      Config Example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../common-questions/" title="Common Questions" class="md-nav__link">
      Common Questions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../technical-limitations/" title="Technical Limitations" class="md-nav__link">
      Technical Limitations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Index Management
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Index Management" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Index Management
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../index-management/index-performance/" title="Indexing for Better Performance" class="md-nav__link">
      Indexing for Better Performance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../index-management/index-lifecycle/" title="Index Lifecycle" class="md-nav__link">
      Index Lifecycle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../index-management/index-reindexing/" title="Reindexing" class="md-nav__link">
      Reindexing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../index-management/index-removal/" title="Removal" class="md-nav__link">
      Removal
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Storage Backends
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Storage Backends" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Storage Backends
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../storage-backend/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../storage-backend/cassandra/" title="Apache Cassandra" class="md-nav__link">
      Apache Cassandra
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../storage-backend/hbase/" title="Apache HBase" class="md-nav__link">
      Apache HBase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../storage-backend/bigtable/" title="Google Cloud Bigtable" class="md-nav__link">
      Google Cloud Bigtable
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../storage-backend/bdb/" title="Oracle Berkeley DB Java Edition" class="md-nav__link">
      Oracle Berkeley DB Java Edition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../storage-backend/inmemorybackend/" title="InMemory Storage Backend" class="md-nav__link">
      InMemory Storage Backend
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Mixed Index Backends
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Mixed Index Backends" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Mixed Index Backends
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../index-backend/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../index-backend/search-predicates/" title="Search Predicates and Data Types" class="md-nav__link">
      Search Predicates and Data Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../index-backend/text-search/" title="Index Parameters and Full-Text Search" class="md-nav__link">
      Index Parameters and Full-Text Search
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../index-backend/field-mapping/" title="Field Mapping" class="md-nav__link">
      Field Mapping
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../index-backend/direct-index-query/" title="Direct Index Query" class="md-nav__link">
      Direct Index Query
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../index-backend/elasticsearch/" title="Elasticsearch" class="md-nav__link">
      Elasticsearch
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../index-backend/solr/" title="Apache Solr" class="md-nav__link">
      Apache Solr
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../index-backend/lucene/" title="Apache Lucene" class="md-nav__link">
      Apache Lucene
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Advanced Topics
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Advanced Topics" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Advanced Topics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced-topics/advschema/" title="Advanced Schema" class="md-nav__link">
      Advanced Schema
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced-topics/eventual-consistency/" title="Eventually-Consistent Storage Backends" class="md-nav__link">
      Eventually-Consistent Storage Backends
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced-topics/recovery/" title="Failure & Recovery" class="md-nav__link">
      Failure & Recovery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced-topics/bulk-loading/" title="Bulk Loading" class="md-nav__link">
      Bulk Loading
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced-topics/partitioning/" title="Graph Partitioning" class="md-nav__link">
      Graph Partitioning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced-topics/serializer/" title="Datatype and Attribute Serializer Configuration" class="md-nav__link">
      Datatype and Attribute Serializer Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced-topics/hadoop/" title="JanusGraph with TinkerPop’s Hadoop-Gremlin" class="md-nav__link">
      JanusGraph with TinkerPop’s Hadoop-Gremlin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced-topics/monitoring/" title="Monitoring JanusGraph" class="md-nav__link">
      Monitoring JanusGraph
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced-topics/migrating/" title="Migrating from Titan" class="md-nav__link">
      Migrating from Titan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced-topics/data-model/" title="JanusGraph Data model" class="md-nav__link">
      JanusGraph Data model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced-topics/janusgraph-bus/" title="JanusGraph Bus" class="md-nav__link">
      JanusGraph Bus
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Connecting to JanusGraph
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Connecting to JanusGraph" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Connecting to JanusGraph
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/java/" title="Using Java" class="md-nav__link">
      Using Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/python/" title="Using Python" class="md-nav__link">
      Using Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../connecting/dotnet/" title="Using .Net" class="md-nav__link">
      Using .Net
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../development/" title="Development" class="md-nav__link">
      Development
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../appendices/" title="Appendices" class="md-nav__link">
      Appendices
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../changelog/" title="Changelog" class="md-nav__link">
      Changelog
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#displaying-schema-information" class="md-nav__link">
    Displaying Schema Information
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-edge-labels" class="md-nav__link">
    Defining Edge Labels
  </a>
  
    <nav class="md-nav" aria-label="Defining Edge Labels">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#edge-label-multiplicity" class="md-nav__link">
    Edge Label Multiplicity
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-property-keys" class="md-nav__link">
    Defining Property Keys
  </a>
  
    <nav class="md-nav" aria-label="Defining Property Keys">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#property-key-data-type" class="md-nav__link">
    Property Key Data Type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#property-key-cardinality" class="md-nav__link">
    Property Key Cardinality
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relation-types" class="md-nav__link">
    Relation Types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-vertex-labels" class="md-nav__link">
    Defining Vertex Labels
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatic-schema-maker" class="md-nav__link">
    Automatic Schema Maker
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changing-schema-elements" class="md-nav__link">
    Changing Schema Elements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schema-constraints" class="md-nav__link">
    Schema Constraints
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/janusgraph/janusgraph/edit/v0.4/docs/basics/schema.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="schema-and-data-modeling">Schema and Data Modeling</h1>
<p>Each JanusGraph graph has a schema comprised of the edge labels,
property keys, and vertex labels used therein. A JanusGraph schema can
either be explicitly or implicitly defined. Users are encouraged to
explicitly define the graph schema during application development. An
explicitly defined schema is an important component of a robust graph
application and greatly improves collaborative software development.
Note, that a JanusGraph schema can be evolved over time without any
interruption of normal database operations. Extending the schema does
not slow down query answering and does not require database downtime.</p>
<p>The schema type - i.e. edge label, property key, or vertex label - is
assigned to elements in the graph - i.e. edge, properties or vertices
respectively - when they are first created. The assigned schema type
cannot be changed for a particular element. This ensures a stable type
system that is easy to reason about.</p>
<p>Beyond the schema definition options explained in this section, schema
types provide performance tuning options that are discussed in
<a href="../../advanced-topics/advschema/">Advanced Schema</a>.</p>
<h2 id="displaying-schema-information">Displaying Schema Information</h2>
<p>There are methods to view specific elements of the graph schema within the management API.
These methods are <code>mgmt.printIndexes()</code>, <code>mgmt.printPropertyKeys()</code>, <code>mgmt.printVertexLabels()</code>, and <code>mgmt.printEdgeLabels()</code>.
There is also a method that displays all the combined output named <code>printSchema()</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">mgmt</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="na">openManagement</span><span class="o">()</span>
<span class="n">mgmt</span><span class="o">.</span><span class="na">printSchema</span><span class="o">()</span>
</code></pre></div>

<h2 id="defining-edge-labels">Defining Edge Labels</h2>
<p>Each edge connecting two vertices has a label which defines the
semantics of the relationship. For instance, an edge labeled <code>friend</code>
between vertices A and B encodes a friendship between the two
individuals.</p>
<p>To define an edge label, call <code>makeEdgeLabel(String)</code> on an open graph
or management transaction and provide the name of the edge label as the
argument. Edge label names must be unique in the graph. This method
returns a builder for edge labels that allows to define its
multiplicity. The <strong>multiplicity</strong> of an edge label defines a
multiplicity constraint on all edges of this label, that is, a maximum
number of edges between pairs of vertices. JanusGraph recognizes the
following multiplicity settings.</p>
<h3 id="edge-label-multiplicity">Edge Label Multiplicity</h3>
<ul>
<li><strong>MULTI</strong>: Allows multiple edges of the same label between any pair
    of vertices. In other words, the graph is a <em>multi graph</em> with
    respect to such edge label. There is no constraint on edge
    multiplicity.</li>
<li><strong>SIMPLE</strong>: Allows at most one edge of such label between any pair
    of vertices. In other words, the graph is a <em>simple graph</em> with
    respect to the label. Ensures that edges are unique for a given
    label and pairs of vertices.</li>
<li><strong>MANY2ONE</strong>: Allows at most one outgoing edge of such label on any
    vertex in the graph but places no constraint on incoming edges. The
    edge label <code>mother</code> is an example with MANY2ONE multiplicity since
    each person has at most one mother but mothers can have multiple
    children.</li>
<li><strong>ONE2MANY</strong>: Allows at most one incoming edge of such label on any
    vertex in the graph but places no constraint on outgoing edges. The
    edge label <code>winnerOf</code> is an example with ONE2MANY multiplicity since
    each contest is won by at most one person but a person can win
    multiple contests.</li>
<li><strong>ONE2ONE</strong>: Allows at most one incoming and one outgoing edge of
    such label on any vertex in the graph. The edge label <em>marriedTo</em> is
    an example with ONE2ONE multiplicity since a person is married to
    exactly one other person.</li>
</ul>
<p>The default multiplicity is MULTI. The definition of an edge label is
completed by calling the <code>make()</code> method on the builder which returns
the defined edge label as shown in the following example.
<div class="highlight"><pre><span></span><code><span class="n">mgmt</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="na">openManagement</span><span class="o">()</span>
<span class="n">follow</span> <span class="o">=</span> <span class="n">mgmt</span><span class="o">.</span><span class="na">makeEdgeLabel</span><span class="o">(</span><span class="s1">&#39;follow&#39;</span><span class="o">).</span><span class="na">multiplicity</span><span class="o">(</span><span class="n">MULTI</span><span class="o">).</span><span class="na">make</span><span class="o">()</span>
<span class="n">mother</span> <span class="o">=</span> <span class="n">mgmt</span><span class="o">.</span><span class="na">makeEdgeLabel</span><span class="o">(</span><span class="s1">&#39;mother&#39;</span><span class="o">).</span><span class="na">multiplicity</span><span class="o">(</span><span class="n">MANY2ONE</span><span class="o">).</span><span class="na">make</span><span class="o">()</span>
<span class="n">mgmt</span><span class="o">.</span><span class="na">commit</span><span class="o">()</span>
</code></pre></div></p>
<h2 id="defining-property-keys">Defining Property Keys</h2>
<p>Properties on vertices and edges are key-value pairs. For instance, the
property <code>name='Daniel'</code> has the key <code>name</code> and the value <code>'Daniel'</code>.
Property keys are part of the JanusGraph schema and can constrain the
allowed data types and cardinality of values.</p>
<p>To define a property key, call <code>makePropertyKey(String)</code> on an open
graph or management transaction and provide the name of the property key
as the argument. Property key names must be unique in the graph, and it
is recommended to avoid spaces or special characters in property names.
This method returns a builder for the property keys.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>During property key creation, consider creating also graph indices for better 
performance, see <a href="../../index-management/index-performance/">Index Performance</a>.</p>
</div>
<h3 id="property-key-data-type">Property Key Data Type</h3>
<p>Use <code>dataType(Class)</code> to define the data type of a property key.
JanusGraph will enforce that all values associated with the key have the
configured data type and thereby ensures that data added to the graph is
valid. For instance, one can define that the <code>name</code> key has a String
data type.</p>
<p>Define the data type as <code>Object.class</code> in order to allow any
(serializable) value to be associated with a key. However, it is
encouraged to use concrete data types whenever possible. Configured data
types must be concrete classes and not interfaces or abstract classes.
JanusGraph enforces class equality, so adding a sub-class of a
configured data type is not allowed.</p>
<p>JanusGraph natively supports the following data types.</p>
<p><center>Native JanusGraph Data Types</center></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>String</td>
<td>Character sequence</td>
</tr>
<tr>
<td>Character</td>
<td>Individual character</td>
</tr>
<tr>
<td>Boolean</td>
<td>true or false</td>
</tr>
<tr>
<td>Byte</td>
<td>byte value</td>
</tr>
<tr>
<td>Short</td>
<td>short value</td>
</tr>
<tr>
<td>Integer</td>
<td>integer value</td>
</tr>
<tr>
<td>Long</td>
<td>long value</td>
</tr>
<tr>
<td>Float</td>
<td>4 byte floating point number</td>
</tr>
<tr>
<td>Double</td>
<td>8 byte floating point number</td>
</tr>
<tr>
<td>Date</td>
<td>Specific instant in time (<code>java.util.Date</code>)</td>
</tr>
<tr>
<td>Geoshape</td>
<td>Geographic shape like point, circle or box</td>
</tr>
<tr>
<td>UUID</td>
<td>Universally unique identifier (<code>java.util.UUID</code>)</td>
</tr>
</tbody>
</table>
<h3 id="property-key-cardinality">Property Key Cardinality</h3>
<p>Use <code>cardinality(Cardinality)</code> to define the allowed cardinality of the
values associated with the key on any given vertex.</p>
<ul>
<li><strong>SINGLE</strong>: Allows at most one value per element for such key. In
    other words, the key→value mapping is unique for all elements in the
    graph. The property key <code>birthDate</code> is an example with SINGLE
    cardinality since each person has exactly one birth date.</li>
<li><strong>LIST</strong>: Allows an arbitrary number of values per element for such
    key. In other words, the key is associated with a list of values
    allowing duplicate values. Assuming we model sensors as vertices in
    a graph, the property key <code>sensorReading</code> is an example with LIST
    cardinality to allow lots of (potentially duplicate) sensor readings
    to be recorded.</li>
<li><strong>SET</strong>: Allows multiple values but no duplicate values per element
    for such key. In other words, the key is associated with a set of
    values. The property key <code>name</code> has SET cardinality if we want to
    capture all names of an individual (including nick name, maiden
    name, etc).</li>
</ul>
<p>The default cardinality setting is SINGLE. Note, that property keys used
on edges and properties have cardinality SINGLE. Attaching multiple
values for a single key on an edge or property is not supported.</p>
<div class="highlight"><pre><span></span><code><span class="n">mgmt</span> <span class="o">=</span> <span class="n">graph</span><span class="p">.</span><span class="na">openManagement</span><span class="p">()</span>
<span class="n">birthDate</span> <span class="o">=</span> <span class="n">mgmt</span><span class="p">.</span><span class="na">makePropertyKey</span><span class="p">(</span><span class="err">&#39;</span><span class="n">birthDate</span><span class="err">&#39;</span><span class="p">).</span><span class="na">dataType</span><span class="p">(</span><span class="n">Long</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">cardinality</span><span class="p">(</span><span class="n">Cardinality</span><span class="p">.</span><span class="na">SINGLE</span><span class="p">).</span><span class="na">make</span><span class="p">()</span>
<span class="n">name</span> <span class="o">=</span> <span class="n">mgmt</span><span class="p">.</span><span class="na">makePropertyKey</span><span class="p">(</span><span class="err">&#39;</span><span class="n">name</span><span class="err">&#39;</span><span class="p">).</span><span class="na">dataType</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">cardinality</span><span class="p">(</span><span class="n">Cardinality</span><span class="p">.</span><span class="na">SET</span><span class="p">).</span><span class="na">make</span><span class="p">()</span>
<span class="n">sensorReading</span> <span class="o">=</span> <span class="n">mgmt</span><span class="p">.</span><span class="na">makePropertyKey</span><span class="p">(</span><span class="err">&#39;</span><span class="n">sensorReading</span><span class="err">&#39;</span><span class="p">).</span><span class="na">dataType</span><span class="p">(</span><span class="n">Double</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">cardinality</span><span class="p">(</span><span class="n">Cardinality</span><span class="p">.</span><span class="na">LIST</span><span class="p">).</span><span class="na">make</span><span class="p">()</span>
<span class="n">mgmt</span><span class="p">.</span><span class="na">commit</span><span class="p">()</span>
</code></pre></div>

<h2 id="relation-types">Relation Types</h2>
<p>Edge labels and property keys are jointly referred to as <strong>relation
types</strong>. Names of relation types must be unique in the graph which means
that property keys and edge labels cannot have the same name. There are
methods in the JanusGraph API to query for the existence or retrieve
relation types which encompasses both property keys and edge labels.</p>
<div class="highlight"><pre><span></span><code><span class="n">mgmt</span> <span class="o">=</span> <span class="n">graph</span><span class="p">.</span><span class="na">openManagement</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="n">mgmt</span><span class="p">.</span><span class="na">containsRelationType</span><span class="p">(</span><span class="err">&#39;</span><span class="n">name</span><span class="err">&#39;</span><span class="p">))</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">mgmt</span><span class="p">.</span><span class="na">getPropertyKey</span><span class="p">(</span><span class="err">&#39;</span><span class="n">name</span><span class="err">&#39;</span><span class="p">)</span>
<span class="n">mgmt</span><span class="p">.</span><span class="na">getRelationTypes</span><span class="p">(</span><span class="n">EdgeLabel</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="n">mgmt</span><span class="p">.</span><span class="na">commit</span><span class="p">()</span>
</code></pre></div>

<h2 id="defining-vertex-labels">Defining Vertex Labels</h2>
<p>Like edges, vertices have labels. Unlike edge labels, vertex labels are
optional. Vertex labels are useful to distinguish different types of
vertices, e.g. <em>user</em> vertices and <em>product</em> vertices.</p>
<p>Although labels are optional at the conceptual and data model level,
JanusGraph assigns all vertices a label as an internal implementation
detail. Vertices created by the <code>addVertex</code> methods use JanusGraph’s
default label.</p>
<p>To create a label, call <code>makeVertexLabel(String).make()</code> on an open
graph or management transaction and provide the name of the vertex label
as the argument. Vertex label names must be unique in the graph.</p>
<div class="highlight"><pre><span></span><code><span class="n">mgmt</span> <span class="o">=</span> <span class="n">graph</span><span class="p">.</span><span class="na">openManagement</span><span class="p">()</span>
<span class="n">person</span> <span class="o">=</span> <span class="n">mgmt</span><span class="p">.</span><span class="na">makeVertexLabel</span><span class="p">(</span><span class="err">&#39;</span><span class="n">person</span><span class="err">&#39;</span><span class="p">).</span><span class="na">make</span><span class="p">()</span>
<span class="n">mgmt</span><span class="p">.</span><span class="na">commit</span><span class="p">()</span>
<span class="c1">// Create a labeled vertex</span>
<span class="n">person</span> <span class="o">=</span> <span class="n">graph</span><span class="p">.</span><span class="na">addVertex</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">person</span><span class="err">&#39;</span><span class="p">)</span>
<span class="c1">// Create an unlabeled vertex</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">graph</span><span class="p">.</span><span class="na">addVertex</span><span class="p">()</span>
<span class="n">graph</span><span class="p">.</span><span class="na">tx</span><span class="p">().</span><span class="na">commit</span><span class="p">()</span>
</code></pre></div>

<h2 id="automatic-schema-maker">Automatic Schema Maker</h2>
<p>If an edge label, property key, or vertex label has not been defined
explicitly, it will be defined implicitly when it is first used during
the addition of an edge, vertex or the setting of a property. The
<code>DefaultSchemaMaker</code> configured for the JanusGraph graph defines such
types.</p>
<p>By default, implicitly created edge labels have multiplicity MULTI and
implicitly created property keys have cardinality SINGLE and data type
<code>Object.class</code>. Users can control automatic schema element creation by
implementing and registering their own <code>DefaultSchemaMaker</code>.</p>
<p>When defining a cardinality for a vertex property which differs from SINGLE, 
the cardinality should be used for all values of the vertex property in the 
first query (i.e. the query which defines a new vertex property key).</p>
<p>It is strongly encouraged to explicitly define all schema elements and
to disable automatic schema creation by setting <code>schema.default=none</code> in
the JanusGraph graph configuration.</p>
<h2 id="changing-schema-elements">Changing Schema Elements</h2>
<p>The definition of an edge label, property key, or vertex label cannot be
changed once its committed into the graph. However, the names of schema
elements can be changed via
<code>JanusGraphManagement.changeName(JanusGraphSchemaElement, String)</code> as
shown in the following example where the property key <code>place</code> is renamed
to <code>location</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">mgmt</span> <span class="o">=</span> <span class="n">graph</span><span class="p">.</span><span class="na">openManagement</span><span class="p">()</span>
<span class="n">place</span> <span class="o">=</span> <span class="n">mgmt</span><span class="p">.</span><span class="na">getPropertyKey</span><span class="p">(</span><span class="err">&#39;</span><span class="n">place</span><span class="err">&#39;</span><span class="p">)</span>
<span class="n">mgmt</span><span class="p">.</span><span class="na">changeName</span><span class="p">(</span><span class="n">place</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">location</span><span class="err">&#39;</span><span class="p">)</span>
<span class="n">mgmt</span><span class="p">.</span><span class="na">commit</span><span class="p">()</span>
</code></pre></div>

<p>Note, that schema name changes may not be immediately visible in
currently running transactions and other JanusGraph graph instances in
the cluster. While schema name changes are announced to all JanusGraph
instances through the storage backend, it may take a while for the
schema changes to take effect and it may require a instance restart in
the event of certain failure conditions - like network partitions - if
they coincide with the rename. Hence, the user must ensure that either
of the following holds:</p>
<ul>
<li>The renamed label or key is not currently in active use (i.e.
    written or read) and will not be in use until all JanusGraph
    instances are aware of the name change.</li>
<li>Running transactions actively accommodate the brief intermediate
    period where either the old or new name is valid based on the
    specific JanusGraph instance and status of the name-change
    announcement. For instance, that could mean transactions query for
    both names simultaneously.</li>
</ul>
<p>Should the need arise to re-define an existing schema type, it is
recommended to change the name of this type to a name that is not
currently (and will never be) in use. After that, a new label or key can
be defined with the original name, thereby effectively replacing the old
one. However, note that this would not affect vertices, edges, or
properties previously written with the existing type. Redefining
existing graph elements is not supported online and must be accomplished
through a batch graph transformation.</p>
<h2 id="schema-constraints">Schema Constraints</h2>
<p>The definition of the schema allows users to configure explicit property and connection constraints. Properties can be bound to specific vertex label and/or edge labels. Moreover, connection constraints allow users to explicitly define which two vertex labels can be connected by an edge label. These constraints can be used to ensure that a graph matches a given domain model. For example for the graph of the gods, a <code>god</code> can be a brother of another <code>god</code>, but not of a <code>monster</code> and a <code>god</code> can have a property <code>age</code>, but <code>location</code> can not have a property <code>age</code>. These constraints are disabled by default.</p>
<p>Enable these schema constraints by setting <code>schema.constraints=true</code>. This setting depends on the setting <code>schema.default</code>. If config <code>schema.default</code> is set to <code>none</code>, then an <code>IllegalArgumentException</code> is thrown for schema constraint violations. If <code>schema.default</code> is not set <code>none</code>, schema constraints are automatically created, but no exception is thrown.
Activating schema constraints has no impact on the existing data, because these schema constraints are only applied during the insertion process. So reading of data is not affected at all by those constraints.</p>
<p>Multiple properties can be bound to a vertex using <code>JanusGraphManagement.addProperties(VertexLabel, PropertyKey...)</code>, for example:</p>
<div class="highlight"><pre><span></span><code><span class="n">mgmt</span> <span class="o">=</span> <span class="n">graph</span><span class="p">.</span><span class="na">openManagement</span><span class="p">()</span>
<span class="n">person</span> <span class="o">=</span> <span class="n">mgmt</span><span class="p">.</span><span class="na">makeVertexLabel</span><span class="p">(</span><span class="err">&#39;</span><span class="n">person</span><span class="err">&#39;</span><span class="p">).</span><span class="na">make</span><span class="p">()</span>
<span class="n">name</span> <span class="o">=</span> <span class="n">mgmt</span><span class="p">.</span><span class="na">makePropertyKey</span><span class="p">(</span><span class="err">&#39;</span><span class="n">name</span><span class="err">&#39;</span><span class="p">).</span><span class="na">dataType</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">cardinality</span><span class="p">(</span><span class="n">Cardinality</span><span class="p">.</span><span class="na">SET</span><span class="p">).</span><span class="na">make</span><span class="p">()</span>
<span class="n">birthDate</span> <span class="o">=</span> <span class="n">mgmt</span><span class="p">.</span><span class="na">makePropertyKey</span><span class="p">(</span><span class="err">&#39;</span><span class="n">birthDate</span><span class="err">&#39;</span><span class="p">).</span><span class="na">dataType</span><span class="p">(</span><span class="n">Long</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">cardinality</span><span class="p">(</span><span class="n">Cardinality</span><span class="p">.</span><span class="na">SINGLE</span><span class="p">).</span><span class="na">make</span><span class="p">()</span>
<span class="n">mgmt</span><span class="p">.</span><span class="na">addProperties</span><span class="p">(</span><span class="n">person</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">birthDate</span><span class="p">)</span>
<span class="n">mgmt</span><span class="p">.</span><span class="na">commit</span><span class="p">()</span>
</code></pre></div>

<p>Multiple properties can be bound to an edge using <code>JanusGraphManagement.addProperties(EdgeLabel, PropertyKey...)</code>, for example:</p>
<div class="highlight"><pre><span></span><code><span class="n">mgmt</span> <span class="o">=</span> <span class="n">graph</span><span class="p">.</span><span class="na">openManagement</span><span class="p">()</span>
<span class="n">follow</span> <span class="o">=</span> <span class="n">mgmt</span><span class="p">.</span><span class="na">makeEdgeLabel</span><span class="p">(</span><span class="err">&#39;</span><span class="n">follow</span><span class="err">&#39;</span><span class="p">).</span><span class="na">multiplicity</span><span class="p">(</span><span class="n">MULTI</span><span class="p">).</span><span class="na">make</span><span class="p">()</span>
<span class="n">name</span> <span class="o">=</span> <span class="n">mgmt</span><span class="p">.</span><span class="na">makePropertyKey</span><span class="p">(</span><span class="err">&#39;</span><span class="n">name</span><span class="err">&#39;</span><span class="p">).</span><span class="na">dataType</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">cardinality</span><span class="p">(</span><span class="n">Cardinality</span><span class="p">.</span><span class="na">SET</span><span class="p">).</span><span class="na">make</span><span class="p">()</span>
<span class="n">mgmt</span><span class="p">.</span><span class="na">addProperties</span><span class="p">(</span><span class="n">follow</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
<span class="n">mgmt</span><span class="p">.</span><span class="na">commit</span><span class="p">()</span>
</code></pre></div>

<p>Connections can be defined using <code>JanusGraphManagement.addConnection(EdgeLabel, VertexLabel out, VertexLabel in)</code> between an outgoing, an incoming and an edge, for example:</p>
<div class="highlight"><pre><span></span><code><span class="n">mgmt</span> <span class="o">=</span> <span class="n">graph</span><span class="p">.</span><span class="na">openManagement</span><span class="p">()</span>
<span class="n">person</span> <span class="o">=</span> <span class="n">mgmt</span><span class="p">.</span><span class="na">makeVertexLabel</span><span class="p">(</span><span class="err">&#39;</span><span class="n">person</span><span class="err">&#39;</span><span class="p">).</span><span class="na">make</span><span class="p">()</span>
<span class="n">company</span> <span class="o">=</span> <span class="n">mgmt</span><span class="p">.</span><span class="na">makeVertexLabel</span><span class="p">(</span><span class="err">&#39;</span><span class="n">company</span><span class="err">&#39;</span><span class="p">).</span><span class="na">make</span><span class="p">()</span>
<span class="n">works</span> <span class="o">=</span> <span class="n">mgmt</span><span class="p">.</span><span class="na">makeEdgeLabel</span><span class="p">(</span><span class="err">&#39;</span><span class="n">works</span><span class="err">&#39;</span><span class="p">).</span><span class="na">multiplicity</span><span class="p">(</span><span class="n">MULTI</span><span class="p">).</span><span class="na">make</span><span class="p">()</span>
<span class="n">mgmt</span><span class="p">.</span><span class="na">addConnection</span><span class="p">(</span><span class="n">works</span><span class="p">,</span> <span class="n">person</span><span class="p">,</span> <span class="n">company</span><span class="p">)</span>
<span class="n">mgmt</span><span class="p">.</span><span class="na">commit</span><span class="p">()</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../configuration/" title="Configuration" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Configuration
              </div>
            </div>
          </a>
        
        
          <a href="../gremlin/" title="Gremlin Query Language" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Gremlin Query Language
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 JanusGraph Authors. All rights reserved.<br> The Linux Foundation has registered trademarks and uses trademarks. For a list of<br> trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage">Trademark Usage</a> page.<br> Cassandra, Groovy, HBase, Hadoop, Lucene, Solr, and TinkerPop are trademarks of the Apache Software Foundation.<br> Berkeley DB and Berkeley DB Java Edition are trademarks of Oracle.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../assets/javascripts/bundle.b39636ac.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../../theme/js/structor-menu.js"></script>
      
    
  </body>
</html>