
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.3">
    
    
      
        <title>JanusGraph Cache - JanusGraph</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.3b61ea93.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.39b8e14a.min.css">
        
          
          
          <meta name="theme-color" content="#4cae4f">
        
      
    
    
    
      
    
    
    
      <link rel="stylesheet" href="../../theme/structor-menu.css">
    
      <link rel="stylesheet" href="../../theme/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="green" data-md-color-accent="teal">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#janusgraph-cache" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="JanusGraph" class="md-header-nav__button md-logo" aria-label="JanusGraph">
      
  <img src="../../janusgraph-logomark.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            JanusGraph
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              JanusGraph Cache
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/janusgraph/janusgraph/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    JanusGraph
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="JanusGraph" class="md-nav__button md-logo" aria-label="JanusGraph">
      
  <img src="../../janusgraph-logomark.svg" alt="logo">

    </a>
    JanusGraph
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/janusgraph/janusgraph/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    JanusGraph
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      



  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" >
    
    <label class="md-nav__link" for="nav-2">
      Getting Started
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../getting-started/installation/" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../getting-started/basic-usage/" class="md-nav__link">
      Basic Usage
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../getting-started/gremlin/" class="md-nav__link">
      Gremlin Query Language
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../getting-started/architecture/" class="md-nav__link">
      Architectural Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
    
    <label class="md-nav__link" for="nav-3">
      Interactions with JanusGraph
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Interactions with JanusGraph" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Interactions with JanusGraph
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../interactions/transactions/" class="md-nav__link">
      Transactions
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../interactions/search-predicates/" class="md-nav__link">
      Search Predicates and Mixed Index Data Types
    </a>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3" >
    
    <label class="md-nav__link" for="nav-3-3">
      Connecting to JanusGraph
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Connecting to JanusGraph" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        <span class="md-nav__icon md-icon"></span>
        Connecting to JanusGraph
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../interactions/connecting/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../interactions/connecting/java/" class="md-nav__link">
      Using Java
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../interactions/connecting/python/" class="md-nav__link">
      Using Python
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../interactions/connecting/dotnet/" class="md-nav__link">
      Using .Net
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
    
    <label class="md-nav__link" for="nav-4">
      Configuration
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Configuration" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../configs/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../configs/configuration-reference/" class="md-nav__link">
      Configuration Reference
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../configs/example-config/" class="md-nav__link">
      Config Example
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
    
    <label class="md-nav__link" for="nav-5">
      Schema Management
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Schema Management" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Schema Management
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../schema/" class="md-nav__link">
      Schema and Data Modeling
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../schema/advschema/" class="md-nav__link">
      Advanced Schema
    </a>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3" >
    
    <label class="md-nav__link" for="nav-5-3">
      Index Management
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Index Management" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        <span class="md-nav__icon md-icon"></span>
        Index Management
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../schema/index-management/index-performance/" class="md-nav__link">
      Indexing for Better Performance
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../schema/index-management/index-lifecycle/" class="md-nav__link">
      Index Lifecycle
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../schema/index-management/index-reindexing/" class="md-nav__link">
      Reindexing
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../schema/index-management/index-removal/" class="md-nav__link">
      Removal
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  


  
  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Operations
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Operations" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Operations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../server/" class="md-nav__link">
      JanusGraph Server
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../deployment/" class="md-nav__link">
      Deployment Scenarios
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../configured-graph-factory/" class="md-nav__link">
      ConfiguredGraphFactory
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../dynamic-graphs/" class="md-nav__link">
      Dynamic Graphs
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../bulk-loading/" class="md-nav__link">
      Bulk Loading
    </a>
  </li>

        
          
          
          


  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        JanusGraph Cache
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      JanusGraph Cache
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#caching" class="md-nav__link">
    Caching
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transaction-level-caching" class="md-nav__link">
    Transaction-Level Caching
  </a>
  
    <nav class="md-nav" aria-label="Transaction-Level Caching">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertex-cache" class="md-nav__link">
    Vertex Cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-cache" class="md-nav__link">
    Index Cache
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-level-caching" class="md-nav__link">
    Database Level Caching
  </a>
  
    <nav class="md-nav" aria-label="Database Level Caching">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cache-expiration-time" class="md-nav__link">
    Cache Expiration Time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-size" class="md-nav__link">
    Cache Size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean-up-wait-time" class="md-nav__link">
    Clean Up Wait Time
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage-backend-caching" class="md-nav__link">
    Storage Backend Caching
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../monitoring/" class="md-nav__link">
      Monitoring
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../migrating-titan/" class="md-nav__link">
      Migrating from Titan
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../migrating-thrift/" class="md-nav__link">
      Migrating from Thrift
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../recovery/" class="md-nav__link">
      Failure & Recovery
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../management/" class="md-nav__link">
      Management System
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" >
    
    <label class="md-nav__link" for="nav-7">
      Storage Backends
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Storage Backends" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        Storage Backends
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../storage-backend/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../storage-backend/cassandra/" class="md-nav__link">
      Apache Cassandra
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../storage-backend/hbase/" class="md-nav__link">
      Apache HBase
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../storage-backend/bigtable/" class="md-nav__link">
      Google Cloud Bigtable
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../storage-backend/bdb/" class="md-nav__link">
      Oracle Berkeley DB Java Edition
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../storage-backend/inmemorybackend/" class="md-nav__link">
      InMemory Storage Backend
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" >
    
    <label class="md-nav__link" for="nav-8">
      Mixed Index Backends
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Mixed Index Backends" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon"></span>
        Mixed Index Backends
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../index-backend/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../index-backend/text-search/" class="md-nav__link">
      Index Parameters and Full-Text Search
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../index-backend/field-mapping/" class="md-nav__link">
      Field Mapping
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../index-backend/direct-index-query/" class="md-nav__link">
      Direct Index Query
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../index-backend/elasticsearch/" class="md-nav__link">
      Elasticsearch
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../index-backend/solr/" class="md-nav__link">
      Apache Solr
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../index-backend/lucene/" class="md-nav__link">
      Apache Lucene
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" >
    
    <label class="md-nav__link" for="nav-9">
      Advanced Topics
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Advanced Topics" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon"></span>
        Advanced Topics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../advanced-topics/eventual-consistency/" class="md-nav__link">
      Eventually-Consistent Storage Backends
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../advanced-topics/partitioning/" class="md-nav__link">
      Graph Partitioning
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../advanced-topics/serializer/" class="md-nav__link">
      Datatype and Attribute Serializer Configuration
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../advanced-topics/hadoop/" class="md-nav__link">
      JanusGraph with TinkerPop’s Hadoop-Gremlin
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../advanced-topics/transaction-log/" class="md-nav__link">
      Transaction Log
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../advanced-topics/data-model/" class="md-nav__link">
      JanusGraph Data model
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../advanced-topics/janusgraph-bus/" class="md-nav__link">
      JanusGraph Bus
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../advanced-topics/technical-limitations/" class="md-nav__link">
      Technical Limitations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../../common-questions/" class="md-nav__link">
      Common Questions
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../../development/" class="md-nav__link">
      Development
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../../changelog/" class="md-nav__link">
      Changelog
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#caching" class="md-nav__link">
    Caching
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transaction-level-caching" class="md-nav__link">
    Transaction-Level Caching
  </a>
  
    <nav class="md-nav" aria-label="Transaction-Level Caching">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vertex-cache" class="md-nav__link">
    Vertex Cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-cache" class="md-nav__link">
    Index Cache
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-level-caching" class="md-nav__link">
    Database Level Caching
  </a>
  
    <nav class="md-nav" aria-label="Database Level Caching">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cache-expiration-time" class="md-nav__link">
    Cache Expiration Time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-size" class="md-nav__link">
    Cache Size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean-up-wait-time" class="md-nav__link">
    Clean Up Wait Time
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage-backend-caching" class="md-nav__link">
    Storage Backend Caching
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/janusgraph/janusgraph/edit/master/docs/operations/cache.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="janusgraph-cache">JanusGraph Cache</h1>
<h2 id="caching">Caching</h2>
<p>JanusGraph employs multiple layers of data caching to facilitate fast
graph traversals. The caching layers are listed here in the order they
are accessed from within a JanusGraph transaction. The closer the cache
is to the transaction, the faster the cache access and the higher the
memory footprint and maintenance overhead.</p>
<h2 id="transaction-level-caching">Transaction-Level Caching</h2>
<p>Within an open transaction, JanusGraph maintains two caches:</p>
<ul>
<li>
<p>Vertex Cache: Caches accessed vertices and their adjacency list (or
    subsets thereof) so that subsequent access is significantly faster
    within the same transaction. Hence, this cache speeds up iterative
    traversals.</p>
</li>
<li>
<p>Index Cache: Caches the results for index queries so that subsequent
    index calls can be served from memory instead of calling the index
    backend and (usually) waiting for one or more network round trips.</p>
</li>
</ul>
<p>The size of both of those is determined by the <em>transaction cache size</em>.
The transaction cache size can be configured via <code>cache.tx-cache-size</code>
or on a per transaction basis by opening a transaction via the
transaction builder <code>graph.buildTransaction()</code> and using the
<code>setVertexCacheSize(int)</code> method.</p>
<h3 id="vertex-cache">Vertex Cache</h3>
<p>The vertex cache contains vertices and the subset of their adjacency
list that has been retrieved in a particular transaction. The maximum
number of vertices maintained in this cache is equal to the transaction
cache size. If the transaction workload is an iterative traversal, the
vertex cache will significantly speed it up. If the same vertex is not
accessed again in the transaction, the transaction level cache will make
no difference.</p>
<p>Note, that the size of the vertex cache on heap is not only determined
by the number of vertices it may hold but also by the size of their
adjacency list. In other words, vertices with large adjacency lists
(i.e. many incident edges) will consume more space in this cache than
those with smaller lists.</p>
<p>Furthermore note, that modified vertices are <em>pinned</em> in the cache,
which means they cannot be evicted since that would entail loosing their
changes. Therefore, transaction which contain a lot of modifications may
end up with a larger than configured vertex cache.</p>
<p>Assuming your vertex is not evicted from cache, or it is evicted from
cache but your program context still holds the reference to the vertex,
then its properties are cached together with the vertex. This means once
a property is queried, any subsequent reads will hit the cache. In case
you want to force JanusGraph to read from the data storage again, or you
simply want to save memory, you could clear the cache of that vertex manually.
Note this is not gremlin compliant, so you need to cast your vertex into
CacheVertex type to do the refresh:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// first read automatically caches the property together with v</span>
<span class="n">v</span><span class="o">.</span><span class="na">property</span><span class="o">(</span><span class="s2">&quot;prop&quot;</span><span class="o">).</span><span class="na">value</span><span class="o">();</span>
<span class="c1">// force refresh to clear the cache</span>
<span class="o">((</span><span class="n">CacheVertex</span><span class="o">)</span> <span class="n">v</span><span class="o">).</span><span class="na">refresh</span><span class="o">();</span>
<span class="c1">// now a subsequent read will lead to a data storage read</span>
<span class="n">v</span><span class="o">.</span><span class="na">property</span><span class="o">(</span><span class="s2">&quot;prop&quot;</span><span class="o">).</span><span class="na">value</span><span class="o">();</span>
</code></pre></div>

<p>Note that refresh operation cannot guarantee your current transaction reads
the latest data from an eventual consistent backend. You should not attempt
to achieve Compare-And-Set (CAS) via refresh operation, even though it might
be helpful to detect conflicts among transactions in some cases.</p>
<h3 id="index-cache">Index Cache</h3>
<p>The index cache contains the results of index queries executed in the
context of this transaction. Subsequent identical index calls will be
served from this cache and are therefore significantly cheaper. If the
same index call never occurs twice in the same transaction, the index
cache makes no difference.</p>
<p>Each entry in the index cache is given a weight equal to
<code>2 + result set size</code> and the total weight of the cache will not exceed
half of the transaction cache size.</p>
<h2 id="database-level-caching">Database Level Caching</h2>
<p>The database level cache retains adjacency lists (or subsets thereof)
across multiple transactions and beyond the duration of a single
transaction. The database level cache is shared by all transactions
across a database. It is more space efficient than the transaction level
caches but also slightly slower to access. In contrast to the
transaction level caches, the database level caches do not expire
immediately after closing a transaction. Hence, the database level cache
significantly speeds up graph traversals for read heavy workloads across
transactions.</p>
<p><a href="../../configs/configuration-reference/">Configuration Reference</a> lists all of the configuration
options that pertain to JanusGraph’s database level cache. This page
attempts to explain their usage.</p>
<p>Most importantly, the database level cache is disabled by default in the
current release version of JanusGraph. To enable it, set
<code>cache.db-cache=true</code>.</p>
<h3 id="cache-expiration-time">Cache Expiration Time</h3>
<p>The most important setting for performance and query behavior is the
cache expiration time which is configured via <code>cache.db-cache-time</code>. The
cache will hold graph elements for at most that many milliseconds. If an
element expires, the data will be re-read from the storage backend on
the next access.</p>
<p>If there is only one JanusGraph instance accessing the storage backend
or if this instance is the only one modifying the graph, the cache
expiration can be set to 0 which disables cache expiration. This allows
the cache to hold elements indefinitely (unless they are evicted due to
space constraints or on update) which provides the best cache
performance. Since no other JanusGraph instance is modifying the graph,
there is no danger of holding on to stale data.</p>
<p>If there are multiple JanusGraph instances accessing the storage
backend, the time should be set to the maximum time that can be allowed
between <strong>another</strong> JanusGraph instance modifying the graph and this
JanusGraph instance seeing the data. If any change should be immediately
visible to all JanusGraph instances, the database level cache should be
disabled in a distributed setup. However, for most applications it is
acceptable that a particular JanusGraph instance sees remote
modifications with some delay. The larger the maximally allowed delay,
the better the cache performance. Note, that a given JanusGraph instance
will always immediately see its own modifications to the graph
irrespective of the configured cache expiration time.</p>
<h3 id="cache-size">Cache Size</h3>
<p>The configuration option <code>cache.db-cache-size</code> controls how much heap
space JanusGraph’s database level cache is allowed to consume. The
larger the cache, the more effective it will be. However, large cache
sizes can lead to excessive GC and poor performance.</p>
<p>The cache size can be configured as a percentage (expressed as a decimal
between 0 and 1) of the total heap space available to the JVM running
JanusGraph or as an absolute number of bytes.</p>
<p>Note, that the cache size refers to the amount of heap space that is
exclusively occupied by the cache. JanusGraph’s other data structures
and each open transaction will occupy additional heap space. If
additional software layers are running in the same JVM, those may occupy
a significant amount of heap space as well (e.g. Gremlin Server, etc). 
Be conservative in your heap memory estimation. Configuring a cache 
that is too large can lead to out-of-memory exceptions and excessive GC.</p>
<h3 id="clean-up-wait-time">Clean Up Wait Time</h3>
<p>When a vertex is locally modified (e.g. an edge is added) all of the
vertex’s related database level cache entries are marked as expired and
eventually evicted. This will cause JanusGraph to refresh the vertex’s
data from the storage backend on the next access and re-populate the
cache.</p>
<p>However, when the storage backend is eventually consistent, the
modifications that triggered the eviction may not yet be visible. By
configuring <code>cache.db-cache-clean-wait</code>, the cache will wait for at
least this many milliseconds before repopulating the cache with the
entry retrieved from the storage backend.</p>
<p>If JanusGraph runs locally or against a storage backend that guarantees
immediate visibility of modifications, this value can be set to 0.</p>
<h2 id="storage-backend-caching">Storage Backend Caching</h2>
<p>Each storage backend maintains its own data caching layer. These caches
benefit from compression, data compactness, coordinated expiration and
are often maintained off heap which means that large caches can be used
without running into garbage collection issues. While these caches can
be significantly larger than the database level cache, they are also
slower to access.</p>
<p>The exact type of caching and its properties depends on the particular
<a href="../../storage-backend/">storage backend</a>. Please refer to the respective
documentation for more information about the caching infrastructure and
how to optimize it.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../bulk-loading/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Bulk Loading
              </div>
            </div>
          </a>
        
        
          <a href="../monitoring/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Monitoring
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2021 JanusGraph Authors. All rights reserved.<br> The Linux Foundation has registered trademarks and uses trademarks. For a list of<br> trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage">Trademark Usage</a> page.<br> Cassandra, Groovy, HBase, Hadoop, Lucene, Solr, and TinkerPop are trademarks of the Apache Software Foundation.<br> Berkeley DB and Berkeley DB Java Edition are trademarks of Oracle.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.08c56446.min.js"></script>
      <script src="../../assets/javascripts/bundle.6ced434e.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../../theme/js/structor-menu.js"></script>
      
    
  </body>
</html>